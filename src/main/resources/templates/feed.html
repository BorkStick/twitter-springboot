<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragments::head">
  <title>Feed</title>
</head>

<body>
<nav th:replace="fragments::navbar"></nav>
<ul class="nav nav-tabs">
  <li class="nav-item" role="presentation" th:classappend="${filter == 'all' ? 'active' : '' }">
    <a class="nav-link active" href="/meeps">All</a></li>
  <li class="nav-item" role="presentation" th:classappend="${filter == 'following' ? 'active' : '' }">
    <a class="nav-link" href="/meeps?filter=following">Following</a></li>
</ul>

<!--<ul class="nav nav-tabs">-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link active" aria-current="page" href="#">Active</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link" href="#">Link</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link" href="#">Link</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>-->
<!--    </li>-->
<!--</ul>-->


<main class="container mt-4">
  <h2>Meeps</h2>
  <div class="list-group" th:each="tweet:${tweetList}">
    <div class="list-group-item list-group-item-action mt-2 shadow-sm ">
      <div class="row">

      <div class="col-1">
        <img src="/images/user_icon.png"
             width="50"
             height="50">
      </div>
      <div class="col">
        <div class="row d-flex justify-content-start">
          <div class="col-2">
            <div class="d-flex w-100 justify-content-between">
              <h5 style="margin:inherit;">@<span th:text="${tweet.user.username}"></span></h5>
            </div>
          </div>
          <div class="col-4">
            <small th:text="${tweet.date}"></small>
          </div>
        </div>


        <p class="mb-1" th:utext="${tweet.message}"></p>
      </div>
      </div>
    </div>
  </div>


  <div th:if="${#lists.isEmpty(tweetList) and filter == 'all'}">
    <h3>No meeps have been created yet</h3>
  </div>
  <div th:if="${#lists.isEmpty(tweetList) and filter == 'following'}">
    <h3>No meeps have been created by your followers</h3>
  </div>
</main>
</body>
</html>